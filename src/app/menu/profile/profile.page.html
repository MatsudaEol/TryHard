<ion-header>
  <ion-toolbar color="darkgray2">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/home" color="trygreen"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center" color="trygreen">Meus Dados</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content color="darkgray">
  <div *ngIf="exibir">
    <ion-card color="dark" class="container">
      <div class="profile-container">
        <ion-avatar class="perfil-container" *ngIf="imageLoaded">
          <img
            [src]="userData.profile || 'https://firebasestorage.googleapis.com/v0/b/tryhard-75312.appspot.com/o/default_profile.png?alt=media&token=a65958d7-167d-4e30-9391-4f92c26366aa'">
        </ion-avatar>
      </div>
      <!--aqui vai puxar os dados do usuário -->
      <ion-item color="dark-light" lines="full" class="linha">
        <ion-label color="trygreen">Nome: <a class="profileData">{{ userData.username }}</a></ion-label>
      </ion-item>

      <ion-item color="dark-light" lines="full" class="linha1">
        <ion-label color="trygreen">E-mail: <a class="profileData">{{ userData.email }}</a></ion-label>
      </ion-item>

      <ion-item color="dark-light" lines="full" class="linha2">
        <ion-label color="trygreen">Data de nascimento: <a class="profileData">{{ userData.birth }}</a></ion-label>
      </ion-item>

      <ion-item color="dark-light" lines="full" class="linha3">
        <ion-label color="trygreen">Celular: <a class="profileData">{{ userData.phone }}</a></ion-label>
      </ion-item>

      <ion-button id="open-modal" expand="block">+ Informações</ion-button>

      <ion-modal #modal trigger="open-modal" [presentingElement]="presentingElement">
        <ng-template>

          <ion-header>
            <ion-toolbar>
              <ion-title>Estatísticas</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="modal.dismiss()">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>

          <ion-content>

            <ion-list>

              <ion-card>
                <ion-item *ngFor="let treino of treinosConcluidos">
                  <ion-icon name="checkmark-circle" slot="start"> </ion-icon>
                  <ion-label>
                    <h2> Dia {{ date }} </h2>
                    <p> Treino: {{ treino.nomeTreino }}, Concluído! </p>
                  </ion-label>
                </ion-item>
              </ion-card>


              <ion-card>
                  <ion-toolbar>
                    <ion-title>
                      Calculadora de IMC
                    </ion-title>
                  </ion-toolbar>

                <ion-item>
                  <ion-label position="stacked">Altura (metros)</ion-label>
                  <ion-input [(ngModel)]="altura" type="number" step="0.01"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label position="stacked">Peso (kg)</ion-label>
                  <ion-input [(ngModel)]="peso" type="number" step="0.1"></ion-input>
                </ion-item>

                <ion-button expand="full" (click)="calcularIMC()">Calcular IMC</ion-button>

                <ion-item *ngIf="imcResultado !== undefined">
                  <ion-label position="stacked">Seu IMC</ion-label>
                  <ion-input [value]="formatarNumero(imcResultado)" enable></ion-input>
                </ion-item>

                <ion-item *ngIf="classificacao">
                  <ion-label position="stacked">Classificação</ion-label>
                  <ion-input [value]="classificacao" enable></ion-input>
                </ion-item>
              </ion-card>

              <ion-item>
                <ion-avatar slot="start">
                  <ion-img src="https://i.pravatar.cc/300?u=d"></ion-img>
                </ion-avatar>
                <ion-label>
                  <h2>Greg Smith</h2>
                  <p>Director of Operations</p>
                </ion-label>
              </ion-item>
              <ion-item>
                <ion-avatar slot="start">
                  <ion-img src="https://i.pravatar.cc/300?u=e"></ion-img>
                </ion-avatar>
                <ion-label>
                  <h2>Zoey Smith</h2>
                  <p>CEO</p>
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-card>
  </div>
</ion-content>